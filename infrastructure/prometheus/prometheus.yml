# Prometheus Configuration for Envoy Metrics

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'vytalmind-gateway'
    environment: 'development'

scrape_configs:
  # Edge Envoy metrics
  - job_name: 'edge-envoy'
    metrics_path: /stats/prometheus
    static_configs:
      - targets: ['edge-envoy:9901']
        labels:
          service: 'edge-envoy'
          tier: 'edge'

  # Internal Envoy metrics
  - job_name: 'internal-envoy'
    metrics_path: /stats/prometheus
    static_configs:
      - targets: ['internal-envoy:9901']
        labels:
          service: 'internal-envoy'
          tier: 'internal'

  # Redis metrics (requires redis_exporter in production)
  - job_name: 'redis'
    static_configs:
      - targets: ['redis:6379']
        labels:
          service: 'redis'
